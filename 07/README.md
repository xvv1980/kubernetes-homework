## Домашнее задание к занятию «Хранение в K8s. Часть 2»

### Задание 1
Создать Deployment приложения, использующего локальный PV, созданный вручную.

 - Создать Deployment приложения, состоящего из контейнеров busybox и multitool.

   [deployment манифест](deploy-1.yaml)
   
 - Создать PV и PVC для подключения папки на локальной ноде, которая будет использована в поде.

   [PersistentVolume манифест](pv.yaml)

   [PersistentVolumeClame манифест](pvc.yaml)

 - Продемонстрировать, что multitool может читать файл, в который busybox пишет каждые пять секунд в общей директории.

   ![изображение](https://github.com/user-attachments/assets/0e37528f-621d-41a4-860e-18c7f2cb5746)


 - Удалить Deployment и PVC. Продемонстрировать, что после этого произошло с PV. Пояснить, почему.

   Перед удалением смотрим, что на ноде создан каталог c файлом /tmp/pv/output.txt согласно манифеста  [PersistentVolume манифест](pv.yaml) и туда пишутся данные.

   ![изображение](https://github.com/user-attachments/assets/35803847-6462-4f40-97c4-8489da4e4939)

   Удаляем Deployment и PVC

   ![изображение](https://github.com/user-attachments/assets/7d9c98c7-a5f9-44c0-b5f9-f805a57d2e87)

   Видим, что при удалении pvc удалился и pv. А также была удален соответственно и каталог /tmp/pv вместе с содержимым.

   ![изображение](https://github.com/user-attachments/assets/a4a7f071-59db-43b5-8fce-fd59764635c2)

   Это получилось и-за того, что persistentVolumeReclaimPolicy: Delete  работает с каталогом нгаходящемся в /tmp/*. Поэтому при удалении pvc все удалилось автоматом. Если бы я указал каталог для volume в любом другом месте, то при удалении pvc, pv бы не удалился. Тогда пришлосб бы его удалять вручную.
    

 
 - Продемонстрировать, что файл сохранился на локальном диске ноды. Удалить PV. Продемонстрировать что произошло с файлом после удаления PV. Пояснить, почему.
    
